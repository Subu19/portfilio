{"mappings":"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","sources":["src/js/connection.js"],"sourcesContent":["(function ($) {\r\n  $.fn.connections = function (options) {\r\n    if (options === \"update\") {\r\n      return processConnections(update, this);\r\n    } else if (options === \"remove\") {\r\n      return processConnections(destroy, this);\r\n    } else {\r\n      options = $.extend(\r\n        true,\r\n        {\r\n          borderClasses: {},\r\n          class: \"connection\",\r\n          css: {},\r\n          from: this,\r\n          tag: \"connection\",\r\n          to: this,\r\n          within: \":root\",\r\n        },\r\n        options\r\n      );\r\n      connect(options);\r\n      return this;\r\n    }\r\n  };\r\n\r\n  $.event.special.connections = {\r\n    teardown: function (namespaces) {\r\n      processConnections(destroy, $(this));\r\n    },\r\n  };\r\n\r\n  var connect = function (options) {\r\n    var borderClasses = options.borderClasses;\r\n    var tag = options.tag;\r\n    var end1 = $(options.from);\r\n    var end2 = $(options.to);\r\n    var within = $(options.within);\r\n    delete options.borderClasses;\r\n    delete options.tag;\r\n    delete options.from;\r\n    delete options.to;\r\n    delete options.within;\r\n    within.each(function () {\r\n      var container = this;\r\n      var done = new Array();\r\n      end1.each(function () {\r\n        var node = this;\r\n        done.push(this);\r\n        end2.not(done).each(function () {\r\n          createConnection(\r\n            container,\r\n            [node, this],\r\n            tag,\r\n            borderClasses,\r\n            options\r\n          );\r\n        });\r\n      });\r\n    });\r\n  };\r\n\r\n  var createConnection = function (\r\n    container,\r\n    nodes,\r\n    tag,\r\n    borderClasses,\r\n    options\r\n  ) {\r\n    var css = $.extend({ position: \"absolute\" }, options.css);\r\n    var connection = $(\"<\" + tag + \"/>\", options).css(css);\r\n    connection.appendTo(container);\r\n\r\n    var border_w = (connection.outerWidth() - connection.innerWidth()) / 2;\r\n    var border_h = (connection.outerHeight() - connection.innerHeight()) / 2;\r\n\r\n    if (border_w <= 0 && border_h <= 0) {\r\n      border_w = border_h = 1;\r\n    }\r\n\r\n    var data = {\r\n      borderClasses: borderClasses,\r\n      border_h: border_h,\r\n      border_w: border_w,\r\n      node_from: $(nodes[0]),\r\n      node_to: $(nodes[1]),\r\n      nodes_dom: nodes,\r\n      css: css,\r\n    };\r\n\r\n    if (\"none\" === connection.css(\"border-top-style\")) {\r\n      data.css.borderStyle = \"solid\";\r\n    }\r\n    $.data(connection.get(0), \"connection\", data);\r\n    $.data(connection.get(0), \"connections\", [connection.get(0)]);\r\n    for (var i = 0; i < 2; i++) {\r\n      var connections = connection.add($.data(nodes[i], \"connections\")).get();\r\n      $.data(nodes[i], \"connections\", connections);\r\n      if (connections.length == 1) {\r\n        $(nodes[i]).on(\"connections.connections\", false);\r\n      }\r\n    }\r\n    update(connection.get(0));\r\n  };\r\n\r\n  var destroy = function (connection) {\r\n    var nodes = $.data(connection, \"connection\").nodes_dom;\r\n    for (var i = 0; i < 2; i++) {\r\n      var connections = $($.data(nodes[i], \"connections\"))\r\n        .not(connection)\r\n        .get();\r\n      $.data(nodes[i], \"connections\", connections);\r\n    }\r\n    $(connection).remove();\r\n  };\r\n\r\n  var getState = function (data) {\r\n    data.rect_from = data.nodes_dom[0].getBoundingClientRect();\r\n    data.rect_to = data.nodes_dom[1].getBoundingClientRect();\r\n    var cached = data.cache;\r\n    data.cache = [\r\n      data.rect_from.top,\r\n      data.rect_from.right,\r\n      data.rect_from.bottom,\r\n      data.rect_from.left,\r\n      data.rect_to.top,\r\n      data.rect_to.right,\r\n      data.rect_to.bottom,\r\n      data.rect_to.left,\r\n    ];\r\n    data.hidden =\r\n      0 === (data.cache[0] | data.cache[1] | data.cache[2] | data.cache[3]) ||\r\n      0 === (data.cache[4] | data.cache[5] | data.cache[6] | data.cache[7]);\r\n    data.unmodified = true;\r\n    if (cached === undefined) {\r\n      return (data.unmodified = false);\r\n    }\r\n    for (var i = 0; i < 8; i++) {\r\n      if (cached[i] !== data.cache[i]) {\r\n        return (data.unmodified = false);\r\n      }\r\n    }\r\n  };\r\n\r\n  var update = function (connection) {\r\n    var data = $.data(connection, \"connection\");\r\n    getState(data);\r\n    if (data.unmodified) {\r\n      return;\r\n    }\r\n    var border_h = data.border_h;\r\n    var border_w = data.border_w;\r\n    var from = data.rect_from;\r\n    var to = data.rect_to;\r\n    var b = (from.bottom + from.top) / 2;\r\n    var r = (to.left + to.right) / 2;\r\n    var t = (to.bottom + to.top) / 2;\r\n    var l = (from.left + from.right) / 2;\r\n\r\n    var h = [\"right\", \"left\"];\r\n    if (l > r) {\r\n      h = [\"left\", \"right\"];\r\n      var x = Math.max(r - border_w / 2, Math.min(from.right, to.right));\r\n      r = l + border_w / 2;\r\n      l = x;\r\n    } else {\r\n      l -= border_w / 2;\r\n      r = Math.min(r + border_w / 2, Math.max(from.left, to.left));\r\n    }\r\n    var v = [\"bottom\", \"top\"];\r\n    if (t > b) {\r\n      v = [\"top\", \"bottom\"];\r\n      var x = Math.max(b - border_h / 2, Math.min(from.bottom, to.bottom));\r\n      b = t + border_h / 2;\r\n      t = x;\r\n    } else {\r\n      b = Math.min(b, Math.max(from.top, to.top));\r\n      t -= border_h / 2;\r\n    }\r\n    var width = r - l;\r\n    var height = b - t;\r\n    if (width < border_w) {\r\n      t = Math.max(t, Math.min(from.bottom, to.bottom));\r\n      b = Math.min(b, Math.max(from.top, to.top));\r\n      l = Math.max(from.left, to.left);\r\n      r = Math.min(from.right, to.right);\r\n      r = l = (l + r - border_w) / 2;\r\n    }\r\n    if (height < border_h) {\r\n      l = Math.max(l, Math.min(from.right, to.right));\r\n      r = Math.min(r, Math.max(from.left, to.left));\r\n      t = Math.max(from.top, to.top);\r\n      b = Math.min(from.bottom, to.bottom);\r\n      b = t = (t + b - border_h) / 2;\r\n    }\r\n    width = r - l;\r\n    height = b - t;\r\n    width <= 0 && (border_h = 0);\r\n    height <= 0 && (border_w = 0);\r\n    var style =\r\n      \"border-\" +\r\n      v[0] +\r\n      \"-\" +\r\n      h[0] +\r\n      \"-radius: 0;\" +\r\n      \"border-\" +\r\n      v[0] +\r\n      \"-\" +\r\n      h[1] +\r\n      \"-radius: 0;\" +\r\n      \"border-\" +\r\n      v[1] +\r\n      \"-\" +\r\n      h[0] +\r\n      \"-radius: 0;\";\r\n    (border_h <= 0 || border_w <= 0) &&\r\n      (style += \"border-\" + v[1] + \"-\" + h[1] + \"-radius: 0;\");\r\n    if (data.hidden) {\r\n      style += \"display: none;\";\r\n    } else {\r\n      data.css[\"border-\" + v[0] + \"-width\"] = 0;\r\n      data.css[\"border-\" + h[0] + \"-width\"] = 0;\r\n      data.css[\"border-\" + v[1] + \"-width\"] = border_h;\r\n      data.css[\"border-\" + h[1] + \"-width\"] = border_w;\r\n      var current_rect = connection.getBoundingClientRect();\r\n      data.css.left = connection.offsetLeft + l - current_rect.left;\r\n      data.css.top = connection.offsetTop + t - current_rect.top;\r\n      data.css.width = width - border_w;\r\n      data.css.height = height - border_h;\r\n    }\r\n    var bc = data.borderClasses;\r\n    $(connection)\r\n      .removeClass(bc[v[0]])\r\n      .removeClass(bc[h[0]])\r\n      .addClass(bc[v[1]])\r\n      .addClass(bc[h[1]])\r\n      .attr(\"style\", style)\r\n      .css(data.css);\r\n  };\r\n\r\n  var processConnections = function (method, elements) {\r\n    return elements.each(function () {\r\n      var connections = $.data(this, \"connections\");\r\n      if (connections instanceof Array) {\r\n        for (var i = 0, len = connections.length; i < len; i++) {\r\n          method(connections[i]);\r\n        }\r\n      }\r\n    });\r\n  };\r\n})(jQuery);\r\n"],"names":[],"version":3,"file":"index.7dfc5c48.js.map","sourceRoot":"/__parcel_source_root/"}